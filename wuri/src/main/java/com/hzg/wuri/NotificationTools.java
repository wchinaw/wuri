package com.hzg.wuri;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.graphics.Color;

public class NotificationTools {
    //删除通知
    public static void clearNotification(Context context){
        // ?????????????????????   
        NotificationManager notificationManager = (NotificationManager) context 
                .getSystemService(Context.NOTIFICATION_SERVICE);   
        notificationManager.cancel(0);  
 
    }

    public static void showNotification(Context context, int title, String content){
        if(title != 0 && context != null){
            showNotification(context,context.getString(title),content);
        }
    }

    public static void showNotification(Context context, String title, String content){
    	// ???????NotificationManager??????   
        NotificationManager notificationManager = (NotificationManager)    
        		context.getSystemService(android.content.Context.NOTIFICATION_SERVICE);   
         
        // ????Notification?????????   
        Notification notification;
        notification = new Notification(R.drawable.ic_launcher,   
      		title, System.currentTimeMillis()); 
        //FLAG_AUTO_CANCEL   ??????????????????????????
        //FLAG_NO_CLEAR      ????????????????????????????
        //FLAG_ONGOING_EVENT ????????????????
        //FLAG_INSISTENT     ????????У?????????????????????????
//        notification.flags |= Notification.FLAG_ONGOING_EVENT; // ???????????????"Ongoing"??"????????"????   
//        notification.flags |= Notification.FLAG_NO_CLEAR; // ???????????????е?"?????"??????????????????FLAG_ONGOING_EVENT??????   
        notification.flags |= Notification.FLAG_SHOW_LIGHTS;
        //DEFAULT_ALL     ?????????????????????????????????
        //DEFAULT_LIGHTS  ?????????????
        //DEFAULT_SOUNDS  ?????????????
        //DEFAULT_VIBRATE ?????????????????<uses-permission android:name="android.permission.VIBRATE" />???
        notification.defaults =  Notification.DEFAULT_LIGHTS; //Notification.DEFAULT_LIGHTS |
        
        notification.flags |= Notification.FLAG_AUTO_CANCEL;
        
    	notification.defaults |= Notification.DEFAULT_SOUND;
                	
     	notification.defaults |= Notification.DEFAULT_VIBRATE;
     	
        //????Ч??????
        //notification.defaults=Notification.DEFAULT_LIGHTS|Notification.DEFAULT_SOUND;
        notification.ledARGB = Color.BLUE;   
        notification.ledOnMS =5000; //???????????
         
        // ??????????????   
        CharSequence contentTitle = title; // ????????   
        CharSequence contentText = content; // ????????   
        
        Intent notificationIntent;
       	notificationIntent = new Intent(context, MainActivity.class); // ???????????????Activity
//       	notificationIntent.putExtra(COM.INTENT_SHOW_CHAT_TAB, true);
        
        
        	
        notificationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        notificationIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        PendingIntent contentItent = PendingIntent.getActivity(context, 0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);   
        notification.setLatestEventInfo(context, contentTitle, contentText, contentItent);   
         
        // ??Notification?????NotificationManager   
        notificationManager.notify(0, notification);
    }
    
}
